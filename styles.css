/* styles.css */

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Merriweather:wght@400;700&display=swap');

:root{
  --bg-a: #071026;
  --bg-b: #0b1224;
  --card-bg: rgba(255,255,255,0.03);
  --accent: #7b61ff;
  --accent-2: #5ec8ff;
  --text: #e6eef8;
  --muted: rgba(230,238,248,0.72);
  --glass-border: rgba(255,255,255,0.04);
  --btn-height: 56px;
  --gutter: 28px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:"Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: radial-gradient(1000px 500px at 10% 10%, rgba(123,97,255,0.06), transparent),
              linear-gradient(180deg, var(--bg-a), var(--bg-b));
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  padding:3.5rem 1rem;
  /* leave room for fixed action buttons so content isn't hidden */
  padding-bottom: calc(var(--btn-height) + var(--gutter) + 24px);
}

/* Center heading */
.heading{
  font-weight:700;
  letter-spacing:0.2px;
  margin:0 0 1rem 0;
  color:var(--text);
  text-align:center;
  font-size:1.25rem;
}

/* Quote card */
.div{
  width: min(820px, 96%);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:14px;
  padding:2rem 2rem 2.4rem;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:1rem;
  box-shadow: 0 16px 40px rgba(2,6,23,0.55), inset 0 1px 0 rgba(255,255,255,0.02);
  backdrop-filter: blur(8px) saturate(120%);
  border: 1px solid var(--glass-border);
  transition: transform .18s ease, box-shadow .18s ease;
  position:relative;
}

/* quote icon alignment */
.fa-quote-left{
  font-size:1.5rem;
  color: var(--accent);
  opacity:0.95;
  margin-right:auto;
}

/* Quote text and author */
#qid{
  width:100%;
  max-width:820px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:0.5rem;
  padding:0 0.25rem;
}

.quote-text{
  font-family: "Merriweather", serif;
  font-weight:400;
  font-size: clamp(1.05rem, 2.3vw, 1.5rem);
  line-height:1.55;
  text-align:center;
  color:var(--text);
  word-break:break-word;
  white-space:pre-wrap;
}

.quote-author{
  font-size:0.95rem;
  color:var(--muted);
  text-align:center;
  margin-top:0.25rem;
}

/* Primary floating New Quote button (keeps fixed on viewport) */
.div > button:first-of-type{
  position:fixed;
  right: var(--gutter);
  bottom: var(--gutter);
  height: var(--btn-height);
  min-width: 160px;
  padding: 0 1.1rem;
  border-radius: 999px;
  border: 0;
  outline: 0;
  background: linear-gradient(90deg, var(--accent), var(--accent-2) 120%);
  color: #fff;
  font-weight:700;
  cursor:pointer;
  box-shadow: 0 12px 36px rgba(123,97,255,0.20);
  transition: transform .14s ease, box-shadow .14s ease, opacity .12s;
  z-index: 1200;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-family:inherit;
}

/* Secondary Add Quote floating button */
#addQuoteForm button[type="button"]{
  position:fixed;
  left: var(--gutter);
  bottom: var(--gutter);
  height: calc(var(--btn-height) - 6px);
  min-width: 140px;
  padding: 0 0.9rem;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.06);
  background: rgba(255,255,255,0.03);
  color:var(--text);
  font-weight:600;
  cursor:pointer;
  box-shadow: 0 8px 24px rgba(2,6,23,0.45);
  transition: transform .12s ease, background .12s ease;
  z-index: 1100;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-family:inherit;
}

/* Hover / focus states */
.div > button:first-of-type:hover{ transform: translateY(-4px); box-shadow: 0 20px 42px rgba(123,97,255,0.26); }
.div > button:first-of-type:active{ transform: translateY(-2px) scale(.995); }
.div > button:first-of-type:focus, #addQuoteForm button[type="button"]:focus{
  box-shadow: 0 0 0 6px rgba(123,97,255,0.10);
  outline: none;
}

/* Form inputs — keep them usable even though Add button floats */
#addQuoteForm{
  margin-top:0.6rem;
  width:100%;
  display:flex;
  gap:0.5rem;
  align-items:center;
  justify-content:center;
  flex-wrap:wrap;
}
#addQuoteForm input{
  background: rgba(255,255,255,0.02);
  color:var(--text);
  border: 1px solid rgba(255,255,255,0.03);
  padding:0.5rem 0.75rem;
  border-radius:8px;
  outline:none;
  transition: box-shadow .12s, border-color .12s;
}
#addQuoteForm input:focus{ box-shadow: 0 6px 18px rgba(2,6,23,0.45); border-color: rgba(123,97,255,0.18); }

/* Small screen adjustments */
@media (max-width:720px){
  :root{ --gutter: 18px; --btn-height: 52px; }
  body{ padding:2.25rem 0.75rem calc(var(--btn-height) + var(--gutter) + 20px); }
  .div{ padding:1.25rem; gap:0.75rem; }
  .fa-quote-left{ font-size:1.4rem; }
  .quote-text{ font-size:1rem; }
  .div > button:first-of-type{ right: calc(var(--gutter) - 6px); min-width: 140px; }
  #addQuoteForm button[type="button"]{ left: calc(var(--gutter) - 6px); min-width: 120px; }
}

/* Very small screens — stack floating buttons slightly */
@media (max-width:420px){
  .div > button:first-of-type{ right: 12px; bottom: 80px; min-width: 120px; }
  #addQuoteForm button[type="button"]{ left: 12px; bottom: 80px; min-width: 100px; height:48px; }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  *{ transition: none !important; animation: none !important; }
}

/* Keep floating buttons out of dialogs/modals and ensure dialogs render above FABs */
dialog,
[role="dialog"],
.modal {
  position: relative;
  z-index: 2200; /* above floating action buttons */
}

/* Backdrops should cover buttons */
dialog::backdrop,
.modal-backdrop,
[role="dialog"] + .backdrop {
  position: fixed;
  inset: 0;
  z-index: 2100;
  background: rgba(0,0,0,0.45);
}

/* If your app toggles a class on <body> when a dialog opens, this will nudge FABs down */
body.dialog-open .div > button:first-of-type,
body.dialog-open #addQuoteForm button[type="button"]{
  transform: translateY(120px);
  transition: transform .18s ease;
}

/* Prefer automatic detection when :has() is available (modern browsers) */
@supports(selector(:has(*))) {
  body:has(dialog[open]),
  body:has([role="dialog"][open]),
  body:has(.modal[open]) {
    --fab-offset: 120px;
  }

  body:has(dialog[open]) .div > button:first-of-type,
  body:has([role="dialog"][open]) .div > button:first-of-type,
  body:has(.modal[open]) .div > button:first-of-type,
  body:has(dialog[open]) #addQuoteForm button[type="button"],
  body:has([role="dialog"][open]) #addQuoteForm button[type="button"],
  body:has(.modal[open]) #addQuoteForm button[type="button"] {
    transform: translateY(var(--fab-offset));
  }
}

/* If users prefer reduced motion, avoid nudging animations */
@media (prefers-reduced-motion: reduce){
  body.dialog-open .div > button:first-of-type,
  body.dialog-open #addQuoteForm button[type="button"],
  body:has(dialog[open]) .div > button:first-of-type,
  body:has(dialog[open]) #addQuoteForm button[type="button"] {
    transform: none;
    transition: none;
  }
}
